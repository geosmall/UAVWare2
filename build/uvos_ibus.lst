ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"uvos_ibus.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.UVOS_IBUS_Validate,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	UVOS_IBUS_Validate:
  26              	.LVL0:
  27              	.LFB1373:
  28              		.file 1 "flight/uvos/common/uvos_ibus.c"
   1:flight/uvos/common/uvos_ibus.c **** #include "uvos_ibus_priv.h"
   2:flight/uvos/common/uvos_ibus.c **** 
   3:flight/uvos/common/uvos_ibus.c **** #ifdef UVOS_INCLUDE_IBUS
   4:flight/uvos/common/uvos_ibus.c **** 
   5:flight/uvos/common/uvos_ibus.c **** // 1 sync byte, 1 unknown byte, 10x channels (uint16_t), 8 unknown bytes, 2 crc bytes
   6:flight/uvos/common/uvos_ibus.c **** #define UVOS_IBUS_BUFLEN   (1 + 1 + UVOS_IBUS_NUM_INPUTS * 2 + 8 + 2)
   7:flight/uvos/common/uvos_ibus.c **** #define UVOS_IBUS_SYNCBYTE 0x20
   8:flight/uvos/common/uvos_ibus.c **** #define UVOS_IBUS_MAGIC    0x84fd9a39
   9:flight/uvos/common/uvos_ibus.c **** 
  10:flight/uvos/common/uvos_ibus.c **** /**
  11:flight/uvos/common/uvos_ibus.c ****  * @brief IBus receiver driver internal state data
  12:flight/uvos/common/uvos_ibus.c ****  */
  13:flight/uvos/common/uvos_ibus.c **** struct uvos_ibus_dev {
  14:flight/uvos/common/uvos_ibus.c ****   uint32_t magic;
  15:flight/uvos/common/uvos_ibus.c ****   int      buf_pos;
  16:flight/uvos/common/uvos_ibus.c ****   int      rx_timer;
  17:flight/uvos/common/uvos_ibus.c ****   int      failsafe_timer;
  18:flight/uvos/common/uvos_ibus.c ****   uint16_t checksum;
  19:flight/uvos/common/uvos_ibus.c ****   uint16_t channel_data[ UVOS_IBUS_NUM_INPUTS ];
  20:flight/uvos/common/uvos_ibus.c ****   uint8_t  rx_buf[ UVOS_IBUS_BUFLEN ];
  21:flight/uvos/common/uvos_ibus.c **** };
  22:flight/uvos/common/uvos_ibus.c **** 
  23:flight/uvos/common/uvos_ibus.c **** /**
  24:flight/uvos/common/uvos_ibus.c ****  * @brief Allocates a driver instance
  25:flight/uvos/common/uvos_ibus.c ****  * @retval uvos_ibus_dev pointer on success, NULL on failure
  26:flight/uvos/common/uvos_ibus.c ****  */
  27:flight/uvos/common/uvos_ibus.c **** static struct uvos_ibus_dev * UVOS_IBUS_Alloc( void );
  28:flight/uvos/common/uvos_ibus.c **** /**
  29:flight/uvos/common/uvos_ibus.c ****  * @brief Validate a driver instance
  30:flight/uvos/common/uvos_ibus.c ****  * @param[in] dev device driver instance pointer
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 2


  31:flight/uvos/common/uvos_ibus.c ****  * @retval true on success, false on failure
  32:flight/uvos/common/uvos_ibus.c ****  */
  33:flight/uvos/common/uvos_ibus.c **** static bool UVOS_IBUS_Validate( const struct uvos_ibus_dev * ibus_dev );
  34:flight/uvos/common/uvos_ibus.c **** /**
  35:flight/uvos/common/uvos_ibus.c ****  * @brief Read a channel from the last received frame
  36:flight/uvos/common/uvos_ibus.c ****  * @param[in] id Driver instance
  37:flight/uvos/common/uvos_ibus.c ****  * @param[in] channel 0-based channel index
  38:flight/uvos/common/uvos_ibus.c ****  * @retval raw channel value, or error value (see uvos_rcvr.h)
  39:flight/uvos/common/uvos_ibus.c ****  */
  40:flight/uvos/common/uvos_ibus.c **** static int32_t UVOS_IBUS_Read( uint32_t id, uint8_t channel );
  41:flight/uvos/common/uvos_ibus.c **** /**
  42:flight/uvos/common/uvos_ibus.c ****  * @brief Set all channels in the last frame buffer to a given value
  43:flight/uvos/common/uvos_ibus.c ****  * @param[in] dev Driver instance
  44:flight/uvos/common/uvos_ibus.c ****  * @param[in] value channel value
  45:flight/uvos/common/uvos_ibus.c ****  */
  46:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_SetAllChannels( struct uvos_ibus_dev * ibus_dev, uint16_t value );
  47:flight/uvos/common/uvos_ibus.c **** /**
  48:flight/uvos/common/uvos_ibus.c ****  * @brief Serial receive callback
  49:flight/uvos/common/uvos_ibus.c ****  * @param[in] context Driver instance handle
  50:flight/uvos/common/uvos_ibus.c ****  * @param[in] buf Receive buffer
  51:flight/uvos/common/uvos_ibus.c ****  * @param[in] buf_len Number of bytes available
  52:flight/uvos/common/uvos_ibus.c ****  * @param[out] headroom Number of bytes remaining in internal buffer
  53:flight/uvos/common/uvos_ibus.c ****  * @param[out] task_woken Did we awake a task?
  54:flight/uvos/common/uvos_ibus.c ****  * @retval Number of bytes consumed from the buffer
  55:flight/uvos/common/uvos_ibus.c ****  */
  56:flight/uvos/common/uvos_ibus.c **** static uint16_t UVOS_IBUS_Receive( uint32_t context, uint8_t * buf, uint16_t buf_len,
  57:flight/uvos/common/uvos_ibus.c ****                                    uint16_t * headroom, bool * task_woken );
  58:flight/uvos/common/uvos_ibus.c **** /**
  59:flight/uvos/common/uvos_ibus.c ****  * @brief Reset the internal receive buffer state
  60:flight/uvos/common/uvos_ibus.c ****  * @param[in] ibus_dev device driver instance pointer
  61:flight/uvos/common/uvos_ibus.c ****  */
  62:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_ResetBuffer( struct uvos_ibus_dev * ibus_dev );
  63:flight/uvos/common/uvos_ibus.c **** /**
  64:flight/uvos/common/uvos_ibus.c ****  * @brief Unpack a frame from the internal receive buffer to the channel buffer
  65:flight/uvos/common/uvos_ibus.c ****  * @param[in] ibus_dev device driver instance pointer
  66:flight/uvos/common/uvos_ibus.c ****  */
  67:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_UnpackFrame( struct uvos_ibus_dev * ibus_dev );
  68:flight/uvos/common/uvos_ibus.c **** /**
  69:flight/uvos/common/uvos_ibus.c ****  * @brief RTC tick callback
  70:flight/uvos/common/uvos_ibus.c ****  * @param[in] context Driver instance handle
  71:flight/uvos/common/uvos_ibus.c ****  */
  72:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_Supervisor( uint32_t context );
  73:flight/uvos/common/uvos_ibus.c **** 
  74:flight/uvos/common/uvos_ibus.c **** // public
  75:flight/uvos/common/uvos_ibus.c **** const struct uvos_rcvr_driver uvos_ibus_rcvr_driver = {
  76:flight/uvos/common/uvos_ibus.c ****   .read = UVOS_IBUS_Read,
  77:flight/uvos/common/uvos_ibus.c **** };
  78:flight/uvos/common/uvos_ibus.c **** 
  79:flight/uvos/common/uvos_ibus.c **** 
  80:flight/uvos/common/uvos_ibus.c **** static struct uvos_ibus_dev * UVOS_IBUS_Alloc( void )
  81:flight/uvos/common/uvos_ibus.c **** {
  82:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev;
  83:flight/uvos/common/uvos_ibus.c **** 
  84:flight/uvos/common/uvos_ibus.c ****   ibus_dev = ( struct uvos_ibus_dev * )UVOS_malloc( sizeof( *ibus_dev ) );
  85:flight/uvos/common/uvos_ibus.c **** 
  86:flight/uvos/common/uvos_ibus.c ****   if ( !ibus_dev ) {
  87:flight/uvos/common/uvos_ibus.c ****     return NULL;
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 3


  88:flight/uvos/common/uvos_ibus.c ****   }
  89:flight/uvos/common/uvos_ibus.c **** 
  90:flight/uvos/common/uvos_ibus.c ****   memset( ibus_dev, 0, sizeof( *ibus_dev ) );
  91:flight/uvos/common/uvos_ibus.c ****   ibus_dev->magic = UVOS_IBUS_MAGIC;
  92:flight/uvos/common/uvos_ibus.c **** 
  93:flight/uvos/common/uvos_ibus.c ****   return ibus_dev;
  94:flight/uvos/common/uvos_ibus.c **** }
  95:flight/uvos/common/uvos_ibus.c **** 
  96:flight/uvos/common/uvos_ibus.c **** static bool UVOS_IBUS_Validate( const struct uvos_ibus_dev * ibus_dev )
  97:flight/uvos/common/uvos_ibus.c **** {
  29              		.loc 1 97 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  98:flight/uvos/common/uvos_ibus.c ****   return ibus_dev && ibus_dev->magic == UVOS_IBUS_MAGIC;
  34              		.loc 1 98 3 view .LVU1
  35              		.loc 1 98 19 is_stmt 0 view .LVU2
  36 0000 28B1     		cbz	r0, .L3
  37              		.loc 1 98 30 discriminator 1 view .LVU3
  38 0002 0268     		ldr	r2, [r0]
  39              		.loc 1 98 19 discriminator 1 view .LVU4
  40 0004 044B     		ldr	r3, .L5
  41 0006 9A42     		cmp	r2, r3
  42 0008 03D0     		beq	.L4
  43              		.loc 1 98 19 view .LVU5
  44 000a 0020     		movs	r0, #0
  45              	.LVL1:
  46              		.loc 1 98 19 view .LVU6
  47 000c 7047     		bx	lr
  48              	.LVL2:
  49              	.L3:
  50              		.loc 1 98 19 view .LVU7
  51 000e 0020     		movs	r0, #0
  52              	.LVL3:
  53              		.loc 1 98 19 view .LVU8
  54 0010 7047     		bx	lr
  55              	.LVL4:
  56              	.L4:
  57              		.loc 1 98 19 view .LVU9
  58 0012 0120     		movs	r0, #1
  59              	.LVL5:
  99:flight/uvos/common/uvos_ibus.c **** }
  60              		.loc 1 99 1 view .LVU10
  61 0014 7047     		bx	lr
  62              	.L6:
  63 0016 00BF     		.align	2
  64              	.L5:
  65 0018 399AFD84 		.word	-2063754695
  66              		.cfi_endproc
  67              	.LFE1373:
  69              		.section	.text.UVOS_IBUS_Read,"ax",%progbits
  70              		.align	1
  71              		.syntax unified
  72              		.thumb
  73              		.thumb_func
  75              	UVOS_IBUS_Read:
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 4


  76              	.LVL6:
  77              	.LFB1375:
 100:flight/uvos/common/uvos_ibus.c **** 
 101:flight/uvos/common/uvos_ibus.c **** int32_t UVOS_IBUS_Init( uint32_t * ibus_id, const struct uvos_com_driver * driver, uint32_t lower_i
 102:flight/uvos/common/uvos_ibus.c **** {
 103:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = UVOS_IBUS_Alloc();
 104:flight/uvos/common/uvos_ibus.c **** 
 105:flight/uvos/common/uvos_ibus.c ****   if ( !ibus_dev ) {
 106:flight/uvos/common/uvos_ibus.c ****     return -1;
 107:flight/uvos/common/uvos_ibus.c ****   }
 108:flight/uvos/common/uvos_ibus.c **** 
 109:flight/uvos/common/uvos_ibus.c ****   *ibus_id = ( uint32_t )ibus_dev;
 110:flight/uvos/common/uvos_ibus.c **** 
 111:flight/uvos/common/uvos_ibus.c ****   UVOS_IBUS_SetAllChannels( ibus_dev, UVOS_RCVR_INVALID );
 112:flight/uvos/common/uvos_ibus.c **** 
 113:flight/uvos/common/uvos_ibus.c ****   if ( !UVOS_RTC_RegisterTickCallback( UVOS_IBUS_Supervisor, *ibus_id ) ) {
 114:flight/uvos/common/uvos_ibus.c ****     UVOS_Assert( 0 );
 115:flight/uvos/common/uvos_ibus.c ****   }
 116:flight/uvos/common/uvos_ibus.c **** 
 117:flight/uvos/common/uvos_ibus.c ****   ( driver->bind_rx_cb )( lower_id, UVOS_IBUS_Receive, *ibus_id );
 118:flight/uvos/common/uvos_ibus.c **** 
 119:flight/uvos/common/uvos_ibus.c ****   return 0;
 120:flight/uvos/common/uvos_ibus.c **** }
 121:flight/uvos/common/uvos_ibus.c **** 
 122:flight/uvos/common/uvos_ibus.c **** static int32_t UVOS_IBUS_Read( uint32_t context, uint8_t channel )
 123:flight/uvos/common/uvos_ibus.c **** {
  78              		.loc 1 123 1 is_stmt 1 view -0
  79              		.cfi_startproc
  80              		@ args = 0, pretend = 0, frame = 0
  81              		@ frame_needed = 0, uses_anonymous_args = 0
 124:flight/uvos/common/uvos_ibus.c ****   if ( channel > UVOS_IBUS_NUM_INPUTS ) {
  82              		.loc 1 124 3 view .LVU12
  83              		.loc 1 124 6 is_stmt 0 view .LVU13
  84 0000 0A29     		cmp	r1, #10
  85 0002 0AD8     		bhi	.L9
 123:flight/uvos/common/uvos_ibus.c ****   if ( channel > UVOS_IBUS_NUM_INPUTS ) {
  86              		.loc 1 123 1 view .LVU14
  87 0004 38B5     		push	{r3, r4, r5, lr}
  88              	.LCFI0:
  89              		.cfi_def_cfa_offset 16
  90              		.cfi_offset 3, -16
  91              		.cfi_offset 4, -12
  92              		.cfi_offset 5, -8
  93              		.cfi_offset 14, -4
  94 0006 0546     		mov	r5, r0
  95 0008 0C46     		mov	r4, r1
 125:flight/uvos/common/uvos_ibus.c ****     return UVOS_RCVR_INVALID;
 126:flight/uvos/common/uvos_ibus.c ****   }
 127:flight/uvos/common/uvos_ibus.c **** 
 128:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = ( struct uvos_ibus_dev * )context;
  96              		.loc 1 128 3 is_stmt 1 view .LVU15
  97              	.LVL7:
 129:flight/uvos/common/uvos_ibus.c ****   if ( !UVOS_IBUS_Validate( ibus_dev ) ) {
  98              		.loc 1 129 3 view .LVU16
  99              		.loc 1 129 9 is_stmt 0 view .LVU17
 100 000a FFF7FEFF 		bl	UVOS_IBUS_Validate
 101              	.LVL8:
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 5


 102              		.loc 1 129 6 view .LVU18
 103 000e 38B1     		cbz	r0, .L10
 130:flight/uvos/common/uvos_ibus.c ****     return UVOS_RCVR_NODRIVER;
 131:flight/uvos/common/uvos_ibus.c ****   }
 132:flight/uvos/common/uvos_ibus.c **** 
 133:flight/uvos/common/uvos_ibus.c ****   return ibus_dev->channel_data[channel];
 104              		.loc 1 133 3 is_stmt 1 view .LVU19
 105              		.loc 1 133 32 is_stmt 0 view .LVU20
 106 0010 0834     		adds	r4, r4, #8
 107 0012 05EB4404 		add	r4, r5, r4, lsl #1
 108 0016 6088     		ldrh	r0, [r4, #2]
 109              	.L7:
 134:flight/uvos/common/uvos_ibus.c **** }
 110              		.loc 1 134 1 view .LVU21
 111 0018 38BD     		pop	{r3, r4, r5, pc}
 112              	.LVL9:
 113              	.L9:
 114              	.LCFI1:
 115              		.cfi_def_cfa_offset 0
 116              		.cfi_restore 3
 117              		.cfi_restore 4
 118              		.cfi_restore 5
 119              		.cfi_restore 14
 125:flight/uvos/common/uvos_ibus.c ****   }
 120              		.loc 1 125 12 view .LVU22
 121 001a 6FF00100 		mvn	r0, #1
 122              	.LVL10:
 123              		.loc 1 134 1 view .LVU23
 124 001e 7047     		bx	lr
 125              	.LVL11:
 126              	.L10:
 127              	.LCFI2:
 128              		.cfi_def_cfa_offset 16
 129              		.cfi_offset 3, -16
 130              		.cfi_offset 4, -12
 131              		.cfi_offset 5, -8
 132              		.cfi_offset 14, -4
 130:flight/uvos/common/uvos_ibus.c ****     return UVOS_RCVR_NODRIVER;
 133              		.loc 1 130 12 view .LVU24
 134 0020 6FF00200 		mvn	r0, #2
 135 0024 F8E7     		b	.L7
 136              		.cfi_endproc
 137              	.LFE1375:
 139              		.section	.text.UVOS_IBUS_SetAllChannels,"ax",%progbits
 140              		.align	1
 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 145              	UVOS_IBUS_SetAllChannels:
 146              	.LVL12:
 147              	.LFB1376:
 135:flight/uvos/common/uvos_ibus.c **** 
 136:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_SetAllChannels( struct uvos_ibus_dev * ibus_dev, uint16_t value )
 137:flight/uvos/common/uvos_ibus.c **** {
 148              		.loc 1 137 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 6


 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152              		@ link register save eliminated.
 138:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 153              		.loc 1 138 3 view .LVU26
 154              	.LBB2:
 155              		.loc 1 138 9 view .LVU27
 156              		.loc 1 138 13 is_stmt 0 view .LVU28
 157 0000 0023     		movs	r3, #0
 158              		.loc 1 138 3 view .LVU29
 159 0002 05E0     		b	.L16
 160              	.LVL13:
 161              	.L17:
 139:flight/uvos/common/uvos_ibus.c ****     ibus_dev->channel_data[i] = value;
 162              		.loc 1 139 5 is_stmt 1 discriminator 3 view .LVU30
 163              		.loc 1 139 31 is_stmt 0 discriminator 3 view .LVU31
 164 0004 03F10802 		add	r2, r3, #8
 165 0008 00EB4202 		add	r2, r0, r2, lsl #1
 166 000c 5180     		strh	r1, [r2, #2]	@ movhi
 138:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 167              		.loc 1 138 46 is_stmt 1 discriminator 3 view .LVU32
 138:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 168              		.loc 1 138 47 is_stmt 0 discriminator 3 view .LVU33
 169 000e 0133     		adds	r3, r3, #1
 170              	.LVL14:
 171              	.L16:
 138:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 172              		.loc 1 138 20 is_stmt 1 discriminator 1 view .LVU34
 138:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 173              		.loc 1 138 3 is_stmt 0 discriminator 1 view .LVU35
 174 0010 092B     		cmp	r3, #9
 175 0012 F7DD     		ble	.L17
 176              	.LBE2:
 140:flight/uvos/common/uvos_ibus.c ****   }
 141:flight/uvos/common/uvos_ibus.c **** }
 177              		.loc 1 141 1 view .LVU36
 178 0014 7047     		bx	lr
 179              		.cfi_endproc
 180              	.LFE1376:
 182              		.section	.text.UVOS_IBUS_ResetBuffer,"ax",%progbits
 183              		.align	1
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 188              	UVOS_IBUS_ResetBuffer:
 189              	.LVL15:
 190              	.LFB1378:
 142:flight/uvos/common/uvos_ibus.c **** 
 143:flight/uvos/common/uvos_ibus.c **** static uint16_t UVOS_IBUS_Receive( uint32_t context, uint8_t * buf, uint16_t buf_len,
 144:flight/uvos/common/uvos_ibus.c ****                                    uint16_t * headroom, bool * task_woken )
 145:flight/uvos/common/uvos_ibus.c **** {
 146:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = ( struct uvos_ibus_dev * )context;
 147:flight/uvos/common/uvos_ibus.c **** 
 148:flight/uvos/common/uvos_ibus.c ****   if ( !UVOS_IBUS_Validate( ibus_dev ) ) {
 149:flight/uvos/common/uvos_ibus.c ****     goto out_fail;
 150:flight/uvos/common/uvos_ibus.c ****   }
 151:flight/uvos/common/uvos_ibus.c **** 
 152:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < buf_len; i++ ) {
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 7


 153:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos == 0 && buf[i] != UVOS_IBUS_SYNCBYTE ) {
 154:flight/uvos/common/uvos_ibus.c ****       continue;
 155:flight/uvos/common/uvos_ibus.c ****     }
 156:flight/uvos/common/uvos_ibus.c **** 
 157:flight/uvos/common/uvos_ibus.c ****     ibus_dev->rx_buf[ibus_dev->buf_pos++] = buf[i];
 158:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos <= UVOS_IBUS_BUFLEN - 2 ) {
 159:flight/uvos/common/uvos_ibus.c ****       ibus_dev->checksum -= buf[i];
 160:flight/uvos/common/uvos_ibus.c ****     } else if ( ibus_dev->buf_pos == UVOS_IBUS_BUFLEN ) {
 161:flight/uvos/common/uvos_ibus.c ****       UVOS_IBUS_UnpackFrame( ibus_dev );
 162:flight/uvos/common/uvos_ibus.c ****     }
 163:flight/uvos/common/uvos_ibus.c ****   }
 164:flight/uvos/common/uvos_ibus.c **** 
 165:flight/uvos/common/uvos_ibus.c ****   ibus_dev->rx_timer = 0;
 166:flight/uvos/common/uvos_ibus.c **** 
 167:flight/uvos/common/uvos_ibus.c ****   *headroom   = UVOS_IBUS_BUFLEN - ibus_dev->buf_pos;
 168:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 169:flight/uvos/common/uvos_ibus.c ****   return buf_len;
 170:flight/uvos/common/uvos_ibus.c **** 
 171:flight/uvos/common/uvos_ibus.c **** out_fail:
 172:flight/uvos/common/uvos_ibus.c ****   *headroom   = 0;
 173:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 174:flight/uvos/common/uvos_ibus.c ****   return 0;
 175:flight/uvos/common/uvos_ibus.c **** }
 176:flight/uvos/common/uvos_ibus.c **** 
 177:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_ResetBuffer( struct uvos_ibus_dev * ibus_dev )
 178:flight/uvos/common/uvos_ibus.c **** {
 191              		.loc 1 178 1 is_stmt 1 view -0
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              		@ link register save eliminated.
 179:flight/uvos/common/uvos_ibus.c ****   ibus_dev->checksum = 0xffff;
 196              		.loc 1 179 3 view .LVU38
 197              		.loc 1 179 22 is_stmt 0 view .LVU39
 198 0000 4FF6FF73 		movw	r3, #65535
 199 0004 0382     		strh	r3, [r0, #16]	@ movhi
 180:flight/uvos/common/uvos_ibus.c ****   ibus_dev->buf_pos  = 0;
 200              		.loc 1 180 3 is_stmt 1 view .LVU40
 201              		.loc 1 180 22 is_stmt 0 view .LVU41
 202 0006 0023     		movs	r3, #0
 203 0008 4360     		str	r3, [r0, #4]
 181:flight/uvos/common/uvos_ibus.c **** }
 204              		.loc 1 181 1 view .LVU42
 205 000a 7047     		bx	lr
 206              		.cfi_endproc
 207              	.LFE1378:
 209              		.section	.text.UVOS_IBUS_UnpackFrame,"ax",%progbits
 210              		.align	1
 211              		.syntax unified
 212              		.thumb
 213              		.thumb_func
 215              	UVOS_IBUS_UnpackFrame:
 216              	.LVL16:
 217              	.LFB1379:
 182:flight/uvos/common/uvos_ibus.c **** 
 183:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_UnpackFrame( struct uvos_ibus_dev * ibus_dev )
 184:flight/uvos/common/uvos_ibus.c **** {
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 8


 218              		.loc 1 184 1 is_stmt 1 view -0
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 222              		.loc 1 184 1 is_stmt 0 view .LVU44
 223 0000 08B5     		push	{r3, lr}
 224              	.LCFI3:
 225              		.cfi_def_cfa_offset 8
 226              		.cfi_offset 3, -8
 227              		.cfi_offset 14, -4
 185:flight/uvos/common/uvos_ibus.c ****   uint16_t rxsum = ibus_dev->rx_buf[UVOS_IBUS_BUFLEN - 1] << 8 |
 228              		.loc 1 185 3 is_stmt 1 view .LVU45
 229              		.loc 1 185 36 is_stmt 0 view .LVU46
 230 0002 90F84520 		ldrb	r2, [r0, #69]	@ zero_extendqisi2
 186:flight/uvos/common/uvos_ibus.c ****                    ibus_dev->rx_buf[UVOS_IBUS_BUFLEN - 2];
 231              		.loc 1 186 36 view .LVU47
 232 0006 90F84430 		ldrb	r3, [r0, #68]	@ zero_extendqisi2
 185:flight/uvos/common/uvos_ibus.c ****   uint16_t rxsum = ibus_dev->rx_buf[UVOS_IBUS_BUFLEN - 1] << 8 |
 233              		.loc 1 185 12 view .LVU48
 234 000a 43EA0223 		orr	r3, r3, r2, lsl #8
 235              	.LVL17:
 187:flight/uvos/common/uvos_ibus.c **** 
 188:flight/uvos/common/uvos_ibus.c ****   if ( ibus_dev->checksum != rxsum ) {
 236              		.loc 1 188 3 is_stmt 1 view .LVU49
 237              		.loc 1 188 16 is_stmt 0 view .LVU50
 238 000e 028A     		ldrh	r2, [r0, #16]
 239              		.loc 1 188 6 view .LVU51
 240 0010 9A42     		cmp	r2, r3
 241 0012 10D1     		bne	.L20
 189:flight/uvos/common/uvos_ibus.c ****     goto out_fail;
 190:flight/uvos/common/uvos_ibus.c ****   }
 191:flight/uvos/common/uvos_ibus.c **** 
 192:flight/uvos/common/uvos_ibus.c ****   uint16_t * chan = ( uint16_t * )&ibus_dev->rx_buf[2];
 242              		.loc 1 192 3 is_stmt 1 view .LVU52
 243              		.loc 1 192 14 is_stmt 0 view .LVU53
 244 0014 00F12803 		add	r3, r0, #40
 245              	.LVL18:
 193:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 246              		.loc 1 193 3 is_stmt 1 view .LVU54
 247              	.LBB3:
 248              		.loc 1 193 9 view .LVU55
 249              		.loc 1 193 13 is_stmt 0 view .LVU56
 250 0018 0022     		movs	r2, #0
 251              		.loc 1 193 3 view .LVU57
 252 001a 08E0     		b	.L21
 253              	.LVL19:
 254              	.L22:
 194:flight/uvos/common/uvos_ibus.c ****     ibus_dev->channel_data[i] = *chan++;
 255              		.loc 1 194 5 is_stmt 1 discriminator 3 view .LVU58
 256              		.loc 1 194 33 is_stmt 0 discriminator 3 view .LVU59
 257 001c 33F802CB 		ldrh	ip, [r3], #2
 258              	.LVL20:
 259              		.loc 1 194 31 discriminator 3 view .LVU60
 260 0020 02F10801 		add	r1, r2, #8
 261 0024 00EB4101 		add	r1, r0, r1, lsl #1
 262 0028 A1F802C0 		strh	ip, [r1, #2]	@ movhi
 193:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 9


 263              		.loc 1 193 46 is_stmt 1 discriminator 3 view .LVU61
 193:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 264              		.loc 1 193 47 is_stmt 0 discriminator 3 view .LVU62
 265 002c 0132     		adds	r2, r2, #1
 266              	.LVL21:
 267              	.L21:
 193:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 268              		.loc 1 193 20 is_stmt 1 discriminator 1 view .LVU63
 193:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 269              		.loc 1 193 3 is_stmt 0 discriminator 1 view .LVU64
 270 002e 092A     		cmp	r2, #9
 271 0030 F4DD     		ble	.L22
 193:flight/uvos/common/uvos_ibus.c ****   for ( int i = 0; i < UVOS_IBUS_NUM_INPUTS; i++ ) {
 272              		.loc 1 193 3 discriminator 1 view .LVU65
 273              	.LBE3:
 195:flight/uvos/common/uvos_ibus.c ****   }
 196:flight/uvos/common/uvos_ibus.c **** 
 197:flight/uvos/common/uvos_ibus.c ****   ibus_dev->failsafe_timer = 0;
 274              		.loc 1 197 3 is_stmt 1 view .LVU66
 275              		.loc 1 197 28 is_stmt 0 view .LVU67
 276 0032 0023     		movs	r3, #0
 277              	.LVL22:
 278              		.loc 1 197 28 view .LVU68
 279 0034 C360     		str	r3, [r0, #12]
 280              	.LVL23:
 281              	.L20:
 198:flight/uvos/common/uvos_ibus.c **** 
 199:flight/uvos/common/uvos_ibus.c **** out_fail:
 200:flight/uvos/common/uvos_ibus.c ****   UVOS_IBUS_ResetBuffer( ibus_dev );
 282              		.loc 1 200 3 is_stmt 1 view .LVU69
 283 0036 FFF7FEFF 		bl	UVOS_IBUS_ResetBuffer
 284              	.LVL24:
 201:flight/uvos/common/uvos_ibus.c **** }
 285              		.loc 1 201 1 is_stmt 0 view .LVU70
 286 003a 08BD     		pop	{r3, pc}
 287              		.cfi_endproc
 288              	.LFE1379:
 290              		.section	.text.UVOS_IBUS_Receive,"ax",%progbits
 291              		.align	1
 292              		.syntax unified
 293              		.thumb
 294              		.thumb_func
 296              	UVOS_IBUS_Receive:
 297              	.LVL25:
 298              	.LFB1377:
 145:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = ( struct uvos_ibus_dev * )context;
 299              		.loc 1 145 1 is_stmt 1 view -0
 300              		.cfi_startproc
 301              		@ args = 4, pretend = 0, frame = 0
 302              		@ frame_needed = 0, uses_anonymous_args = 0
 145:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = ( struct uvos_ibus_dev * )context;
 303              		.loc 1 145 1 is_stmt 0 view .LVU72
 304 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 305              	.LCFI4:
 306              		.cfi_def_cfa_offset 32
 307              		.cfi_offset 3, -32
 308              		.cfi_offset 4, -28
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 10


 309              		.cfi_offset 5, -24
 310              		.cfi_offset 6, -20
 311              		.cfi_offset 7, -16
 312              		.cfi_offset 8, -12
 313              		.cfi_offset 9, -8
 314              		.cfi_offset 14, -4
 315 0004 0646     		mov	r6, r0
 316 0006 8846     		mov	r8, r1
 317 0008 1746     		mov	r7, r2
 318 000a 9946     		mov	r9, r3
 146:flight/uvos/common/uvos_ibus.c **** 
 319              		.loc 1 146 3 is_stmt 1 view .LVU73
 320              	.LVL26:
 148:flight/uvos/common/uvos_ibus.c ****     goto out_fail;
 321              		.loc 1 148 3 view .LVU74
 148:flight/uvos/common/uvos_ibus.c ****     goto out_fail;
 322              		.loc 1 148 9 is_stmt 0 view .LVU75
 323 000c FFF7FEFF 		bl	UVOS_IBUS_Validate
 324              	.LVL27:
 148:flight/uvos/common/uvos_ibus.c ****     goto out_fail;
 325              		.loc 1 148 6 view .LVU76
 326 0010 08B1     		cbz	r0, .L33
 327              	.LBB4:
 152:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos == 0 && buf[i] != UVOS_IBUS_SYNCBYTE ) {
 328              		.loc 1 152 13 view .LVU77
 329 0012 0025     		movs	r5, #0
 330 0014 13E0     		b	.L25
 331              	.L33:
 332              	.LBE4:
 149:flight/uvos/common/uvos_ibus.c ****   }
 333              		.loc 1 149 5 is_stmt 1 view .LVU78
 334              	.LDL1:
 172:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 335              		.loc 1 172 3 view .LVU79
 172:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 336              		.loc 1 172 15 is_stmt 0 view .LVU80
 337 0016 A9F80000 		strh	r0, [r9]	@ movhi
 173:flight/uvos/common/uvos_ibus.c ****   return 0;
 338              		.loc 1 173 3 is_stmt 1 view .LVU81
 173:flight/uvos/common/uvos_ibus.c ****   return 0;
 339              		.loc 1 173 15 is_stmt 0 view .LVU82
 340 001a 089B     		ldr	r3, [sp, #32]
 341 001c 1870     		strb	r0, [r3]
 174:flight/uvos/common/uvos_ibus.c **** }
 342              		.loc 1 174 3 is_stmt 1 view .LVU83
 174:flight/uvos/common/uvos_ibus.c **** }
 343              		.loc 1 174 10 is_stmt 0 view .LVU84
 344 001e 28E0     		b	.L26
 345              	.LVL28:
 346              	.L27:
 347              	.LBB5:
 157:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos <= UVOS_IBUS_BUFLEN - 2 ) {
 348              		.loc 1 157 5 is_stmt 1 view .LVU85
 157:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos <= UVOS_IBUS_BUFLEN - 2 ) {
 349              		.loc 1 157 39 is_stmt 0 view .LVU86
 350 0020 631C     		adds	r3, r4, #1
 351 0022 7360     		str	r3, [r6, #4]
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 11


 157:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos <= UVOS_IBUS_BUFLEN - 2 ) {
 352              		.loc 1 157 48 view .LVU87
 353 0024 18F80520 		ldrb	r2, [r8, r5]	@ zero_extendqisi2
 157:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos <= UVOS_IBUS_BUFLEN - 2 ) {
 354              		.loc 1 157 43 view .LVU88
 355 0028 3444     		add	r4, r4, r6
 356 002a 84F82620 		strb	r2, [r4, #38]
 158:flight/uvos/common/uvos_ibus.c ****       ibus_dev->checksum -= buf[i];
 357              		.loc 1 158 5 is_stmt 1 view .LVU89
 158:flight/uvos/common/uvos_ibus.c ****       ibus_dev->checksum -= buf[i];
 358              		.loc 1 158 8 is_stmt 0 view .LVU90
 359 002e 1E2B     		cmp	r3, #30
 360 0030 0FDC     		bgt	.L29
 159:flight/uvos/common/uvos_ibus.c ****     } else if ( ibus_dev->buf_pos == UVOS_IBUS_BUFLEN ) {
 361              		.loc 1 159 7 is_stmt 1 view .LVU91
 159:flight/uvos/common/uvos_ibus.c ****     } else if ( ibus_dev->buf_pos == UVOS_IBUS_BUFLEN ) {
 362              		.loc 1 159 32 is_stmt 0 view .LVU92
 363 0032 18F80520 		ldrb	r2, [r8, r5]	@ zero_extendqisi2
 159:flight/uvos/common/uvos_ibus.c ****     } else if ( ibus_dev->buf_pos == UVOS_IBUS_BUFLEN ) {
 364              		.loc 1 159 26 view .LVU93
 365 0036 338A     		ldrh	r3, [r6, #16]
 366 0038 9B1A     		subs	r3, r3, r2
 367 003a 3382     		strh	r3, [r6, #16]	@ movhi
 368              	.L28:
 152:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos == 0 && buf[i] != UVOS_IBUS_SYNCBYTE ) {
 369              		.loc 1 152 33 is_stmt 1 discriminator 2 view .LVU94
 152:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos == 0 && buf[i] != UVOS_IBUS_SYNCBYTE ) {
 370              		.loc 1 152 34 is_stmt 0 discriminator 2 view .LVU95
 371 003c 0135     		adds	r5, r5, #1
 372              	.LVL29:
 373              	.L25:
 152:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos == 0 && buf[i] != UVOS_IBUS_SYNCBYTE ) {
 374              		.loc 1 152 20 is_stmt 1 discriminator 1 view .LVU96
 152:flight/uvos/common/uvos_ibus.c ****     if ( ibus_dev->buf_pos == 0 && buf[i] != UVOS_IBUS_SYNCBYTE ) {
 375              		.loc 1 152 3 is_stmt 0 discriminator 1 view .LVU97
 376 003e AF42     		cmp	r7, r5
 377 0040 0DDD     		ble	.L34
 153:flight/uvos/common/uvos_ibus.c ****       continue;
 378              		.loc 1 153 5 is_stmt 1 view .LVU98
 153:flight/uvos/common/uvos_ibus.c ****       continue;
 379              		.loc 1 153 18 is_stmt 0 view .LVU99
 380 0042 7468     		ldr	r4, [r6, #4]
 153:flight/uvos/common/uvos_ibus.c ****       continue;
 381              		.loc 1 153 8 view .LVU100
 382 0044 002C     		cmp	r4, #0
 383 0046 EBD1     		bne	.L27
 153:flight/uvos/common/uvos_ibus.c ****       continue;
 384              		.loc 1 153 39 discriminator 1 view .LVU101
 385 0048 18F80530 		ldrb	r3, [r8, r5]	@ zero_extendqisi2
 153:flight/uvos/common/uvos_ibus.c ****       continue;
 386              		.loc 1 153 33 discriminator 1 view .LVU102
 387 004c 202B     		cmp	r3, #32
 388 004e E7D0     		beq	.L27
 389 0050 F4E7     		b	.L28
 390              	.L29:
 160:flight/uvos/common/uvos_ibus.c ****       UVOS_IBUS_UnpackFrame( ibus_dev );
 391              		.loc 1 160 12 is_stmt 1 view .LVU103
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 12


 160:flight/uvos/common/uvos_ibus.c ****       UVOS_IBUS_UnpackFrame( ibus_dev );
 392              		.loc 1 160 15 is_stmt 0 view .LVU104
 393 0052 202B     		cmp	r3, #32
 394 0054 F2D1     		bne	.L28
 161:flight/uvos/common/uvos_ibus.c ****     }
 395              		.loc 1 161 7 is_stmt 1 view .LVU105
 396 0056 3046     		mov	r0, r6
 397 0058 FFF7FEFF 		bl	UVOS_IBUS_UnpackFrame
 398              	.LVL30:
 399 005c EEE7     		b	.L28
 400              	.L34:
 161:flight/uvos/common/uvos_ibus.c ****     }
 401              		.loc 1 161 7 is_stmt 0 view .LVU106
 402              	.LBE5:
 165:flight/uvos/common/uvos_ibus.c **** 
 403              		.loc 1 165 3 is_stmt 1 view .LVU107
 165:flight/uvos/common/uvos_ibus.c **** 
 404              		.loc 1 165 22 is_stmt 0 view .LVU108
 405 005e 0022     		movs	r2, #0
 406 0060 B260     		str	r2, [r6, #8]
 167:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 407              		.loc 1 167 3 is_stmt 1 view .LVU109
 167:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 408              		.loc 1 167 44 is_stmt 0 view .LVU110
 409 0062 7368     		ldr	r3, [r6, #4]
 167:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 410              		.loc 1 167 34 view .LVU111
 411 0064 C3F12003 		rsb	r3, r3, #32
 167:flight/uvos/common/uvos_ibus.c ****   *task_woken = false;
 412              		.loc 1 167 15 view .LVU112
 413 0068 A9F80030 		strh	r3, [r9]	@ movhi
 168:flight/uvos/common/uvos_ibus.c ****   return buf_len;
 414              		.loc 1 168 3 is_stmt 1 view .LVU113
 168:flight/uvos/common/uvos_ibus.c ****   return buf_len;
 415              		.loc 1 168 15 is_stmt 0 view .LVU114
 416 006c 089B     		ldr	r3, [sp, #32]
 417 006e 1A70     		strb	r2, [r3]
 169:flight/uvos/common/uvos_ibus.c **** 
 418              		.loc 1 169 3 is_stmt 1 view .LVU115
 169:flight/uvos/common/uvos_ibus.c **** 
 419              		.loc 1 169 10 is_stmt 0 view .LVU116
 420 0070 3846     		mov	r0, r7
 421              	.LVL31:
 422              	.L26:
 175:flight/uvos/common/uvos_ibus.c **** 
 423              		.loc 1 175 1 view .LVU117
 424 0072 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 175:flight/uvos/common/uvos_ibus.c **** 
 425              		.loc 1 175 1 view .LVU118
 426              		.cfi_endproc
 427              	.LFE1377:
 429              		.section	.text.UVOS_IBUS_Supervisor,"ax",%progbits
 430              		.align	1
 431              		.syntax unified
 432              		.thumb
 433              		.thumb_func
 435              	UVOS_IBUS_Supervisor:
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 13


 436              	.LVL32:
 437              	.LFB1380:
 202:flight/uvos/common/uvos_ibus.c **** 
 203:flight/uvos/common/uvos_ibus.c **** static void UVOS_IBUS_Supervisor( uint32_t context )
 204:flight/uvos/common/uvos_ibus.c **** {
 438              		.loc 1 204 1 is_stmt 1 view -0
 439              		.cfi_startproc
 440              		@ args = 0, pretend = 0, frame = 0
 441              		@ frame_needed = 0, uses_anonymous_args = 0
 442              		.loc 1 204 1 is_stmt 0 view .LVU120
 443 0000 10B5     		push	{r4, lr}
 444              	.LCFI5:
 445              		.cfi_def_cfa_offset 8
 446              		.cfi_offset 4, -8
 447              		.cfi_offset 14, -4
 448 0002 0446     		mov	r4, r0
 205:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = ( struct uvos_ibus_dev * )context;
 449              		.loc 1 205 3 is_stmt 1 view .LVU121
 450              	.LVL33:
 206:flight/uvos/common/uvos_ibus.c **** 
 207:flight/uvos/common/uvos_ibus.c ****   UVOS_Assert( UVOS_IBUS_Validate( ibus_dev ) );
 451              		.loc 1 207 3 view .LVU122
 452 0004 FFF7FEFF 		bl	UVOS_IBUS_Validate
 453              	.LVL34:
 454              		.loc 1 207 3 is_stmt 0 view .LVU123
 455 0008 00B9     		cbnz	r0, .L36
 456              	.L37:
 457              		.loc 1 207 3 is_stmt 1 discriminator 1 view .LVU124
 458              		.loc 1 207 3 discriminator 1 view .LVU125
 459              		.loc 1 207 3 discriminator 1 view .LVU126
 460 000a FEE7     		b	.L37
 461              	.L36:
 462              		.loc 1 207 48 discriminator 2 view .LVU127
 208:flight/uvos/common/uvos_ibus.c **** 
 209:flight/uvos/common/uvos_ibus.c ****   if ( ++ibus_dev->rx_timer > 3 ) {
 463              		.loc 1 209 3 discriminator 2 view .LVU128
 464              		.loc 1 209 18 is_stmt 0 discriminator 2 view .LVU129
 465 000c A368     		ldr	r3, [r4, #8]
 466              		.loc 1 209 8 discriminator 2 view .LVU130
 467 000e 0133     		adds	r3, r3, #1
 468              		.loc 1 209 6 discriminator 2 view .LVU131
 469 0010 A360     		str	r3, [r4, #8]
 470 0012 032B     		cmp	r3, #3
 471 0014 05DC     		bgt	.L41
 472              	.L38:
 210:flight/uvos/common/uvos_ibus.c ****     UVOS_IBUS_ResetBuffer( ibus_dev );
 211:flight/uvos/common/uvos_ibus.c ****   }
 212:flight/uvos/common/uvos_ibus.c **** 
 213:flight/uvos/common/uvos_ibus.c ****   if ( ++ibus_dev->failsafe_timer > 32 ) {
 473              		.loc 1 213 3 is_stmt 1 view .LVU132
 474              		.loc 1 213 18 is_stmt 0 view .LVU133
 475 0016 E368     		ldr	r3, [r4, #12]
 476              		.loc 1 213 8 view .LVU134
 477 0018 0133     		adds	r3, r3, #1
 478              		.loc 1 213 6 view .LVU135
 479 001a E360     		str	r3, [r4, #12]
 480 001c 202B     		cmp	r3, #32
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 14


 481 001e 04DC     		bgt	.L42
 482              	.L35:
 214:flight/uvos/common/uvos_ibus.c ****     UVOS_IBUS_SetAllChannels( ibus_dev, UVOS_RCVR_TIMEOUT );
 215:flight/uvos/common/uvos_ibus.c ****   }
 216:flight/uvos/common/uvos_ibus.c **** }
 483              		.loc 1 216 1 view .LVU136
 484 0020 10BD     		pop	{r4, pc}
 485              	.LVL35:
 486              	.L41:
 210:flight/uvos/common/uvos_ibus.c ****     UVOS_IBUS_ResetBuffer( ibus_dev );
 487              		.loc 1 210 5 is_stmt 1 view .LVU137
 488 0022 2046     		mov	r0, r4
 489 0024 FFF7FEFF 		bl	UVOS_IBUS_ResetBuffer
 490              	.LVL36:
 491 0028 F5E7     		b	.L38
 492              	.L42:
 214:flight/uvos/common/uvos_ibus.c ****     UVOS_IBUS_SetAllChannels( ibus_dev, UVOS_RCVR_TIMEOUT );
 493              		.loc 1 214 5 view .LVU138
 494 002a 4FF6FF71 		movw	r1, #65535
 495 002e 2046     		mov	r0, r4
 496 0030 FFF7FEFF 		bl	UVOS_IBUS_SetAllChannels
 497              	.LVL37:
 498              		.loc 1 216 1 is_stmt 0 view .LVU139
 499 0034 F4E7     		b	.L35
 500              		.cfi_endproc
 501              	.LFE1380:
 503              		.section	.text.UVOS_IBUS_Alloc,"ax",%progbits
 504              		.align	1
 505              		.syntax unified
 506              		.thumb
 507              		.thumb_func
 509              	UVOS_IBUS_Alloc:
 510              	.LFB1372:
  81:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev;
 511              		.loc 1 81 1 is_stmt 1 view -0
 512              		.cfi_startproc
 513              		@ args = 0, pretend = 0, frame = 0
 514              		@ frame_needed = 0, uses_anonymous_args = 0
 515 0000 10B5     		push	{r4, lr}
 516              	.LCFI6:
 517              		.cfi_def_cfa_offset 8
 518              		.cfi_offset 4, -8
 519              		.cfi_offset 14, -4
  82:flight/uvos/common/uvos_ibus.c **** 
 520              		.loc 1 82 3 view .LVU141
  84:flight/uvos/common/uvos_ibus.c **** 
 521              		.loc 1 84 3 view .LVU142
  84:flight/uvos/common/uvos_ibus.c **** 
 522              		.loc 1 84 40 is_stmt 0 view .LVU143
 523 0002 4820     		movs	r0, #72
 524 0004 FFF7FEFF 		bl	UVOS_malloc
 525              	.LVL38:
  86:flight/uvos/common/uvos_ibus.c ****     return NULL;
 526              		.loc 1 86 3 is_stmt 1 view .LVU144
  86:flight/uvos/common/uvos_ibus.c ****     return NULL;
 527              		.loc 1 86 6 is_stmt 0 view .LVU145
 528 0008 0446     		mov	r4, r0
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 15


 529 000a 28B1     		cbz	r0, .L43
  90:flight/uvos/common/uvos_ibus.c ****   ibus_dev->magic = UVOS_IBUS_MAGIC;
 530              		.loc 1 90 3 is_stmt 1 view .LVU146
 531 000c 4822     		movs	r2, #72
 532 000e 0021     		movs	r1, #0
 533 0010 FFF7FEFF 		bl	memset
 534              	.LVL39:
  91:flight/uvos/common/uvos_ibus.c **** 
 535              		.loc 1 91 3 view .LVU147
  91:flight/uvos/common/uvos_ibus.c **** 
 536              		.loc 1 91 19 is_stmt 0 view .LVU148
 537 0014 014B     		ldr	r3, .L46
 538 0016 2360     		str	r3, [r4]
  93:flight/uvos/common/uvos_ibus.c **** }
 539              		.loc 1 93 3 is_stmt 1 view .LVU149
 540              	.L43:
  94:flight/uvos/common/uvos_ibus.c **** 
 541              		.loc 1 94 1 is_stmt 0 view .LVU150
 542 0018 2046     		mov	r0, r4
 543 001a 10BD     		pop	{r4, pc}
 544              	.LVL40:
 545              	.L47:
  94:flight/uvos/common/uvos_ibus.c **** 
 546              		.loc 1 94 1 view .LVU151
 547              		.align	2
 548              	.L46:
 549 001c 399AFD84 		.word	-2063754695
 550              		.cfi_endproc
 551              	.LFE1372:
 553              		.section	.text.UVOS_IBUS_Init,"ax",%progbits
 554              		.align	1
 555              		.global	UVOS_IBUS_Init
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 560              	UVOS_IBUS_Init:
 561              	.LVL41:
 562              	.LFB1374:
 102:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = UVOS_IBUS_Alloc();
 563              		.loc 1 102 1 is_stmt 1 view -0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 102:flight/uvos/common/uvos_ibus.c ****   struct uvos_ibus_dev * ibus_dev = UVOS_IBUS_Alloc();
 567              		.loc 1 102 1 is_stmt 0 view .LVU153
 568 0000 70B5     		push	{r4, r5, r6, lr}
 569              	.LCFI7:
 570              		.cfi_def_cfa_offset 16
 571              		.cfi_offset 4, -16
 572              		.cfi_offset 5, -12
 573              		.cfi_offset 6, -8
 574              		.cfi_offset 14, -4
 575 0002 0446     		mov	r4, r0
 576 0004 0E46     		mov	r6, r1
 577 0006 1546     		mov	r5, r2
 103:flight/uvos/common/uvos_ibus.c **** 
 578              		.loc 1 103 3 is_stmt 1 view .LVU154
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 16


 103:flight/uvos/common/uvos_ibus.c **** 
 579              		.loc 1 103 37 is_stmt 0 view .LVU155
 580 0008 FFF7FEFF 		bl	UVOS_IBUS_Alloc
 581              	.LVL42:
 105:flight/uvos/common/uvos_ibus.c ****     return -1;
 582              		.loc 1 105 3 is_stmt 1 view .LVU156
 105:flight/uvos/common/uvos_ibus.c ****     return -1;
 583              		.loc 1 105 6 is_stmt 0 view .LVU157
 584 000c 88B1     		cbz	r0, .L52
 109:flight/uvos/common/uvos_ibus.c **** 
 585              		.loc 1 109 3 is_stmt 1 view .LVU158
 109:flight/uvos/common/uvos_ibus.c **** 
 586              		.loc 1 109 12 is_stmt 0 view .LVU159
 587 000e 2060     		str	r0, [r4]
 111:flight/uvos/common/uvos_ibus.c **** 
 588              		.loc 1 111 3 is_stmt 1 view .LVU160
 589 0010 4FF6FE71 		movw	r1, #65534
 590 0014 FFF7FEFF 		bl	UVOS_IBUS_SetAllChannels
 591              	.LVL43:
 113:flight/uvos/common/uvos_ibus.c ****     UVOS_Assert( 0 );
 592              		.loc 1 113 3 view .LVU161
 113:flight/uvos/common/uvos_ibus.c ****     UVOS_Assert( 0 );
 593              		.loc 1 113 9 is_stmt 0 view .LVU162
 594 0018 2168     		ldr	r1, [r4]
 595 001a 0748     		ldr	r0, .L54
 596 001c FFF7FEFF 		bl	UVOS_RTC_RegisterTickCallback
 597              	.LVL44:
 113:flight/uvos/common/uvos_ibus.c ****     UVOS_Assert( 0 );
 598              		.loc 1 113 6 view .LVU163
 599 0020 00B9     		cbnz	r0, .L50
 600              	.L51:
 114:flight/uvos/common/uvos_ibus.c ****   }
 601              		.loc 1 114 5 is_stmt 1 discriminator 1 view .LVU164
 114:flight/uvos/common/uvos_ibus.c ****   }
 602              		.loc 1 114 5 discriminator 1 view .LVU165
 114:flight/uvos/common/uvos_ibus.c ****   }
 603              		.loc 1 114 5 discriminator 1 view .LVU166
 604 0022 FEE7     		b	.L51
 605              	.L50:
 114:flight/uvos/common/uvos_ibus.c ****   }
 606              		.loc 1 114 21 discriminator 2 view .LVU167
 117:flight/uvos/common/uvos_ibus.c **** 
 607              		.loc 1 117 3 discriminator 2 view .LVU168
 117:flight/uvos/common/uvos_ibus.c **** 
 608              		.loc 1 117 11 is_stmt 0 discriminator 2 view .LVU169
 609 0024 F368     		ldr	r3, [r6, #12]
 610 0026 2268     		ldr	r2, [r4]
 611 0028 0449     		ldr	r1, .L54+4
 612 002a 2846     		mov	r0, r5
 613 002c 9847     		blx	r3
 614              	.LVL45:
 119:flight/uvos/common/uvos_ibus.c **** }
 615              		.loc 1 119 3 is_stmt 1 discriminator 2 view .LVU170
 119:flight/uvos/common/uvos_ibus.c **** }
 616              		.loc 1 119 10 is_stmt 0 discriminator 2 view .LVU171
 617 002e 0020     		movs	r0, #0
 618              	.L48:
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 17


 120:flight/uvos/common/uvos_ibus.c **** 
 619              		.loc 1 120 1 view .LVU172
 620 0030 70BD     		pop	{r4, r5, r6, pc}
 621              	.LVL46:
 622              	.L52:
 106:flight/uvos/common/uvos_ibus.c ****   }
 623              		.loc 1 106 12 view .LVU173
 624 0032 4FF0FF30 		mov	r0, #-1
 625              	.LVL47:
 106:flight/uvos/common/uvos_ibus.c ****   }
 626              		.loc 1 106 12 view .LVU174
 627 0036 FBE7     		b	.L48
 628              	.L55:
 629              		.align	2
 630              	.L54:
 631 0038 00000000 		.word	UVOS_IBUS_Supervisor
 632 003c 00000000 		.word	UVOS_IBUS_Receive
 633              		.cfi_endproc
 634              	.LFE1374:
 636              		.global	uvos_ibus_rcvr_driver
 637              		.section	.rodata.uvos_ibus_rcvr_driver,"a"
 638              		.align	2
 641              	uvos_ibus_rcvr_driver:
 642 0000 00000000 		.space	4
 643 0004 00000000 		.word	UVOS_IBUS_Read
 644 0008 00000000 		.space	8
 644      00000000 
 645              		.text
 646              	.Letext0:
 647              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10.3-2021.10\\arm-none-eabi\\include
 648              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10.3-2021.10\\arm-none-eabi\\include
 649              		.file 4 "./flight/uvos/stm32f4xx/libraries/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_dma.h"
 650              		.file 5 "./flight/uvos/stm32f4xx/libraries/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_tim.h"
 651              		.file 6 "./flight/uvos/inc/uvos_rcvr.h"
 652              		.file 7 "./flight/uvos/inc/uvos_com.h"
 653              		.file 8 "./flight/uvos/inc/uvos_ibus_priv.h"
 654              		.file 9 "./flight/uvos/inc/uvos_rtc.h"
 655              		.file 10 "./flight/uvos/inc/uvos_heap.h"
 656              		.file 11 "<built-in>"
ARM GAS  C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 uvos_ibus.c
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:20     .text.UVOS_IBUS_Validate:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:25     .text.UVOS_IBUS_Validate:00000000 UVOS_IBUS_Validate
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:65     .text.UVOS_IBUS_Validate:00000018 $d
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:70     .text.UVOS_IBUS_Read:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:75     .text.UVOS_IBUS_Read:00000000 UVOS_IBUS_Read
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:140    .text.UVOS_IBUS_SetAllChannels:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:145    .text.UVOS_IBUS_SetAllChannels:00000000 UVOS_IBUS_SetAllChannels
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:183    .text.UVOS_IBUS_ResetBuffer:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:188    .text.UVOS_IBUS_ResetBuffer:00000000 UVOS_IBUS_ResetBuffer
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:210    .text.UVOS_IBUS_UnpackFrame:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:215    .text.UVOS_IBUS_UnpackFrame:00000000 UVOS_IBUS_UnpackFrame
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:291    .text.UVOS_IBUS_Receive:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:296    .text.UVOS_IBUS_Receive:00000000 UVOS_IBUS_Receive
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:430    .text.UVOS_IBUS_Supervisor:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:435    .text.UVOS_IBUS_Supervisor:00000000 UVOS_IBUS_Supervisor
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:504    .text.UVOS_IBUS_Alloc:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:509    .text.UVOS_IBUS_Alloc:00000000 UVOS_IBUS_Alloc
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:549    .text.UVOS_IBUS_Alloc:0000001c $d
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:554    .text.UVOS_IBUS_Init:00000000 $t
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:560    .text.UVOS_IBUS_Init:00000000 UVOS_IBUS_Init
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:631    .text.UVOS_IBUS_Init:00000038 $d
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:641    .rodata.uvos_ibus_rcvr_driver:00000000 uvos_ibus_rcvr_driver
C:\Users\geoma\AppData\Local\Temp\ccDe6hVf.s:638    .rodata.uvos_ibus_rcvr_driver:00000000 $d

UNDEFINED SYMBOLS
UVOS_malloc
memset
UVOS_RTC_RegisterTickCallback
